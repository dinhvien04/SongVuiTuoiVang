# ğŸŒŸ Sá»‘ng Vui Khá»e - Ná»n táº£ng ChÄƒm sÃ³c NgÆ°á»i Cao Tuá»•i

Ná»n táº£ng web toÃ n diá»‡n káº¿t ná»‘i ngÆ°á»i cao tuá»•i vá»›i cÃ¡c hoáº¡t Ä‘á»™ng sá»©c khá»e, giáº£i trÃ­ vÃ  dá»‹ch vá»¥ chÄƒm sÃ³c chuyÃªn nghiá»‡p táº¡i Quy NhÆ¡n.

![React](https://img.shields.io/badge/React-19-blue)
![TypeScript](https://img.shields.io/badge/TypeScript-5.9-blue)
![Node.js](https://img.shields.io/badge/Node.js-Express-green)
![MongoDB](https://img.shields.io/badge/MongoDB-Database-green)
![AI](https://img.shields.io/badge/AI-MegaLLM-purple)

## âœ¨ TÃ­nh nÄƒng chÃ­nh

### ğŸ” XÃ¡c thá»±c & Báº£o máº­t
- âœ… ÄÄƒng kÃ½ tÃ i khoáº£n vá»›i xÃ¡c thá»±c OTP qua Gmail
- âœ… ÄÄƒng nháº­p vá»›i email hoáº·c sá»‘ Ä‘iá»‡n thoáº¡i
- âœ… QuÃªn máº­t kháº©u vá»›i xÃ¡c thá»±c OTP
- âœ… JWT Authentication
- âœ… Password hashing vá»›i bcrypt
- âœ… OTP tá»± Ä‘á»™ng háº¿t háº¡n sau 10 phÃºt

### ğŸ‘¤ Quáº£n lÃ½ NgÆ°á»i dÃ¹ng
- âœ… Profile cÃ¡ nhÃ¢n vá»›i avatar
- âœ… Chá»‰nh sá»­a thÃ´ng tin cÃ¡ nhÃ¢n
- âœ… Lá»‹ch sá»­ Ä‘áº·t chá»— vÃ  Ä‘Æ¡n hÃ ng
- âœ… Quáº£n lÃ½ giá» hÃ ng
- âœ… Theo dÃµi tráº¡ng thÃ¡i booking

### ğŸ¯ Hoáº¡t Ä‘á»™ng & Dá»‹ch vá»¥
- âœ… 12+ hoáº¡t Ä‘á»™ng Ä‘a dáº¡ng (Yoga, Thá»ƒ dá»¥c, Cá» tÆ°á»›ng, Ca hÃ¡t, Du lá»‹ch...)
- âœ… Lá»c theo danh má»¥c: TrÃ² chÆ¡i, Lá»›p há»c, Ã‚m nháº¡c, Du lá»‹ch
- âœ… Lá»c theo Ä‘á»‹nh dáº¡ng: Online/Offline
- âœ… Lá»c theo gÃ³i: Standard/VIP
- âœ… Chi tiáº¿t hoáº¡t Ä‘á»™ng vá»›i hÃ¬nh áº£nh, giÃ¡, lá»‹ch, Ä‘á»‹a Ä‘iá»ƒm
- âœ… Äáº·t chá»— trá»±c tuyáº¿n

### ğŸ’³ Thanh toÃ¡n & ÄÆ¡n hÃ ng
- âœ… Giá» hÃ ng vá»›i quáº£n lÃ½ sá»‘ lÆ°á»£ng
- âœ… Chá»‰nh sá»­a/xÃ³a booking trong giá»
- âœ… TÃ­nh tá»•ng tiá»n tá»± Ä‘á»™ng
- âœ… Thanh toÃ¡n COD (Cash on Delivery)
- âœ… XÃ¡c nháº­n Ä‘Æ¡n hÃ ng qua email
- âœ… Theo dÃµi tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng

### ğŸ“¦ GÃ³i ChÄƒm sÃ³c ToÃ n diá»‡n
- ğŸ’š **GÃ³i ThÆ°á»ng** (250,000 VNÄ/ngÃ y)
  - Chá»— á»Ÿ 4-8 ngÆ°á»i
  - 3 bá»¯a chÃ­nh + 1-2 bá»¯a phá»¥
  - Theo dÃµi sá»©c khá»e cÆ¡ báº£n
  - Hoáº¡t Ä‘á»™ng táº­p thá»ƒ
  
- ğŸ‘‘ **GÃ³i VIP** (400,000 VNÄ/ngÃ y)
  - PhÃ²ng Ä‘Æ¡n/Ä‘Ã´i cao cáº¥p
  - Thá»±c Ä‘Æ¡n thiáº¿t káº¿ riÃªng
  - ChÄƒm sÃ³c cÃ¡ nhÃ¢n 1:2-3
  - BÃ¡c sÄ© theo dÃµi sÃ¡t sao
  - Phá»¥c há»“i chá»©c nÄƒng

### ğŸ¤– AI Chatbot ThÃ´ng minh
- âœ… Trá»£ lÃ½ AI 24/7 powered by MegaLLM
- âœ… TÆ° váº¥n vá» hoáº¡t Ä‘á»™ng vÃ  gÃ³i dá»‹ch vá»¥
- âœ… Tráº£ lá»i cÃ¢u há»i vá» giÃ¡, lá»‹ch, Ä‘á»‹a Ä‘iá»ƒm
- âœ… So sÃ¡nh gÃ³i Standard vs VIP
- âœ… Há»— trá»£ Ä‘Äƒng kÃ½ vÃ  thanh toÃ¡n
- âœ… Giao diá»‡n thÃ¢n thiá»‡n vá»›i ngÆ°á»i cao tuá»•i
- âœ… Hiá»ƒn thá»‹ trÃªn táº¥t cáº£ cÃ¡c trang

### ğŸ‘¨â€ğŸ’¼ Quáº£n trá»‹ Admin
- âœ… Dashboard tá»•ng quan
- âœ… Quáº£n lÃ½ hoáº¡t Ä‘á»™ng (CRUD)
- âœ… Quáº£n lÃ½ booking
- âœ… Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
- âœ… Upload hÃ¬nh áº£nh base64
- âœ… Thá»‘ng kÃª doanh thu

### ğŸ¨ Giao diá»‡n
- âœ… Responsive design (mobile, tablet, desktop)
- âœ… Tailwind CSS vá»›i gradient Ä‘áº¹p máº¯t
- âœ… Hero banner Ä‘á»™ng
- âœ… Testimonials tá»« thÃ nh viÃªn
- âœ… Footer vá»›i thÃ´ng tin liÃªn há»‡
- âœ… Hotline button floating
- âœ… AI Chatbot floating

## ğŸš€ CÃ i Ä‘áº·t vÃ  Cháº¡y dá»± Ã¡n

### YÃªu cáº§u há»‡ thá»‘ng
- Node.js >= 16
- MongoDB >= 5.0
- npm hoáº·c yarn

### 1ï¸âƒ£ Clone repository
```bash
git clone https://github.com/dinhvien04/SongVuiTuoiVang.git
cd SongVuiTuoiVang
```

### 2ï¸âƒ£ CÃ i Ä‘áº·t Backend

```bash
cd backend
npm install
```

Táº¡o file `.env` tá»« `.env.example`:
```bash
cp .env.example .env
```

Cáº¥u hÃ¬nh file `.env`:
```env
PORT=5000
MONGODB_URI=mongodb://localhost:27017/songvuikhoe
JWT_SECRET=your_jwt_secret_key_change_this_in_production

EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password-here
EMAIL_FROM=your-email@gmail.com

MEGALLM_API_KEY=sk-mega-your-api-key-here
MEGALLM_BASE_URL=https://ai.megallm.io/v1
MEGALLM_MODEL=llama3.3-70b-instruct
```

**LÆ°u Ã½:** `EMAIL_PASSWORD` pháº£i lÃ  App Password cá»§a Gmail (16 kÃ½ tá»±), khÃ´ng pháº£i máº­t kháº©u Gmail thÃ´ng thÆ°á»ng.

Cháº¡y backend:
```bash
npm run dev
```

Backend sáº½ cháº¡y táº¡i: http://localhost:5000

### 3ï¸âƒ£ CÃ i Ä‘áº·t Frontend

```bash
cd fountend
npm install
```

Cháº¡y frontend:
```bash
npm start
```

Frontend sáº½ cháº¡y táº¡i: http://localhost:3001

### 4ï¸âƒ£ CÃ i Ä‘áº·t MongoDB

**Windows:**
- Download tá»«: https://www.mongodb.com/try/download/community
- Hoáº·c dÃ¹ng MongoDB Atlas (cloud)

**Kiá»ƒm tra MongoDB Ä‘ang cháº¡y:**
```bash
mongod --version
```

## ğŸ“§ Cáº¥u hÃ¬nh Gmail Ä‘á»ƒ gá»­i OTP

1. Truy cáº­p: https://myaccount.google.com/security
2. Báº­t "2-Step Verification" (XÃ¡c minh 2 bÆ°á»›c)
3. TÃ¬m "App passwords" (Máº­t kháº©u á»©ng dá»¥ng)
4. Chá»n "Mail" vÃ  "Other (Custom name)"
5. Äáº·t tÃªn: "Song Vui Khoe"
6. Copy máº­t kháº©u 16 kÃ½ tá»± vÃ  cáº­p nháº­t vÃ o `.env`

## ğŸ¤– Cáº¥u hÃ¬nh MegaLLM AI

1. Truy cáº­p: https://megallm.io
2. ÄÄƒng kÃ½ tÃ i khoáº£n
3. VÃ o Dashboard > API Keys
4. Táº¡o API key má»›i
5. Copy API key vÃ  cáº­p nháº­t vÃ o `.env`

**LÆ°u Ã½:** API key cÃ³ dáº¡ng `sk-mega-xxxxx...`

## ğŸ“š API Endpoints

### Authentication
| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| POST | `/api/auth/register` | ÄÄƒng kÃ½ tÃ i khoáº£n | âŒ |
| POST | `/api/auth/login` | ÄÄƒng nháº­p | âŒ |
| GET | `/api/auth/me` | Láº¥y thÃ´ng tin user | âœ… |
| PUT | `/api/auth/update-profile` | Cáº­p nháº­t profile | âœ… |

### OTP
| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| POST | `/api/otp/send-register` | Gá»­i OTP Ä‘Äƒng kÃ½ | âŒ |
| POST | `/api/otp/send-reset` | Gá»­i OTP reset máº­t kháº©u | âŒ |
| POST | `/api/otp/verify` | XÃ¡c thá»±c OTP | âŒ |
| POST | `/api/otp/reset-password` | Äáº·t láº¡i máº­t kháº©u | âŒ |

### Activities
| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| GET | `/api/activities` | Láº¥y danh sÃ¡ch hoáº¡t Ä‘á»™ng | âŒ |
| GET | `/api/activities/:id` | Chi tiáº¿t hoáº¡t Ä‘á»™ng | âŒ |
| POST | `/api/activities` | Táº¡o hoáº¡t Ä‘á»™ng má»›i | âœ… Admin |
| PUT | `/api/activities/:id` | Cáº­p nháº­t hoáº¡t Ä‘á»™ng | âœ… Admin |
| DELETE | `/api/activities/:id` | XÃ³a hoáº¡t Ä‘á»™ng | âœ… Admin |

### Bookings
| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| GET | `/api/bookings` | Láº¥y booking cá»§a user | âœ… |
| GET | `/api/bookings/all` | Láº¥y táº¥t cáº£ booking | âœ… Admin |
| POST | `/api/bookings` | Táº¡o booking má»›i | âœ… |
| PUT | `/api/bookings/:id` | Cáº­p nháº­t booking | âœ… |
| DELETE | `/api/bookings/:id` | XÃ³a booking | âœ… |

### Orders
| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| GET | `/api/orders` | Láº¥y Ä‘Æ¡n hÃ ng cá»§a user | âœ… |
| GET | `/api/orders/:id` | Chi tiáº¿t Ä‘Æ¡n hÃ ng | âœ… |
| POST | `/api/orders` | Táº¡o Ä‘Æ¡n hÃ ng | âœ… |
| PUT | `/api/orders/:id/status` | Cáº­p nháº­t tráº¡ng thÃ¡i | âœ… Admin |

### AI Chatbot
| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| POST | `/api/ai/chat` | Chat vá»›i AI | âŒ |
| POST | `/api/ai/chat/stream` | Chat streaming | âŒ |

## ğŸ› ï¸ Tech Stack

### Frontend
- **React 19** - UI Library
- **TypeScript** - Type Safety
- **React Router DOM** - Routing
- **Tailwind CSS** - Styling
- **Context API** - State Management (Cart)
- **Fetch API** - HTTP Client

### Backend
- **Node.js** - Runtime
- **Express** - Web Framework
- **TypeScript** - Type Safety
- **MongoDB** - Database
- **Mongoose** - ODM
- **JWT** - Authentication
- **Bcrypt** - Password Hashing
- **Nodemailer** - Email Service
- **Axios** - HTTP Client

### AI & External Services
- **MegaLLM** - AI Chatbot (Llama 3.3 70B)
- **Gmail SMTP** - Email OTP
- **Unsplash** - Images

## ğŸ“ Cáº¥u trÃºc thÆ° má»¥c

```
SongVuiTuoiVang/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/         # Database config
â”‚   â”‚   â”œâ”€â”€ controllers/    # Route controllers
â”‚   â”‚   â”‚   â”œâ”€â”€ authController.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ otpController.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ activityController.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ bookingController.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ orderController.ts
â”‚   â”‚   â”‚   â””â”€â”€ aiController.ts      # AI Chatbot
â”‚   â”‚   â”œâ”€â”€ middleware/     # Auth middleware
â”‚   â”‚   â”œâ”€â”€ models/         # Mongoose models
â”‚   â”‚   â”‚   â”œâ”€â”€ User.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ OTP.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Activity.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Booking.ts
â”‚   â”‚   â”‚   â””â”€â”€ Order.ts
â”‚   â”‚   â”œâ”€â”€ routes/         # API routes
â”‚   â”‚   â”œâ”€â”€ scripts/        # Seed data
â”‚   â”‚   â”œâ”€â”€ utils/          # Email utilities
â”‚   â”‚   â””â”€â”€ server.ts       # Entry point
â”‚   â”œâ”€â”€ seed-activities.json
â”‚   â”œâ”€â”€ .env.example
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ fountend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # React components
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AIChatBot.tsx    # AI Chatbot
â”‚   â”‚   â”‚   â””â”€â”€ HotlineButton.tsx
â”‚   â”‚   â”œâ”€â”€ pages/          # Page components
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ActivitiesPage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PackagesPage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ BookingPage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CartPage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PaymentPage.tsx
â”‚   â”‚   â”‚   â””â”€â”€ admin/      # Admin pages
â”‚   â”‚   â”œâ”€â”€ context/        # React Context
â”‚   â”‚   â”‚   â””â”€â”€ CartContext.tsx
â”‚   â”‚   â”œâ”€â”€ services/       # API services
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts
â”‚   â”‚   â”‚   â””â”€â”€ megallm.ts  # AI service
â”‚   â”‚   â”œâ”€â”€ utils/          # Utilities
â”‚   â”‚   â””â”€â”€ App.tsx         # Main app
â”‚   â””â”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ”’ Báº£o máº­t

- âœ… Password Ä‘Æ°á»£c hash vá»›i bcrypt (10 rounds)
- âœ… JWT token cÃ³ thá»i háº¡n 30 ngÃ y
- âœ… OTP tá»± Ä‘á»™ng háº¿t háº¡n sau 10 phÃºt
- âœ… OTP chá»‰ sá»­ dá»¥ng Ä‘Æ°á»£c 1 láº§n
- âœ… CORS Ä‘Æ°á»£c cáº¥u hÃ¬nh
- âœ… Validation dá»¯ liá»‡u Ä‘áº§u vÃ o
- âœ… Environment variables cho thÃ´ng tin nháº¡y cáº£m

## ğŸ¯ Seed Data

Äá»ƒ thÃªm dá»¯ liá»‡u máº«u vÃ o database:

```bash
cd backend
npm run seed
```

Sáº½ táº¡o 12 hoáº¡t Ä‘á»™ng máº«u tá»« file `seed-activities.json`

## ğŸ› Troubleshooting

### KhÃ´ng nháº­n Ä‘Æ°á»£c email OTP
1. Kiá»ƒm tra spam/junk folder
2. Kiá»ƒm tra `EMAIL_PASSWORD` trong `.env` Ä‘Ãºng chÆ°a
3. Kiá»ƒm tra 2-Step Verification Ä‘Ã£ báº­t chÆ°a
4. Xem log backend Ä‘á»ƒ kiá»ƒm tra lá»—i gá»­i email

### AI Chatbot khÃ´ng hoáº¡t Ä‘á»™ng
1. Kiá»ƒm tra `MEGALLM_API_KEY` trong `.env`
2. Kiá»ƒm tra backend Ä‘ang cháº¡y
3. Xem console browser Ä‘á»ƒ kiá»ƒm tra lá»—i
4. Kiá»ƒm tra log backend: `MegaLLM Config`

### Lá»—i káº¿t ná»‘i MongoDB
```bash
# Kiá»ƒm tra MongoDB Ä‘ang cháº¡y
mongod --version

# Khá»Ÿi Ä‘á»™ng MongoDB (Windows)
net start MongoDB
```

### Port Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng
```bash
# Windows: Kill process trÃªn port 5000
netstat -ano | findstr :5000
taskkill /PID <PID> /F

# Kill process trÃªn port 3001 (frontend)
netstat -ano | findstr :3001
taskkill /PID <PID> /F
```

### Lá»—i CORS
Äáº£m báº£o backend cÃ³ cáº¥u hÃ¬nh CORS cho frontend:
```typescript
app.use(cors({
  origin: 'http://localhost:3001'
}));
```

## ğŸ‘¨â€ğŸ’» TÃ¡c giáº£

**Äinh ViÃªn**
- GitHub: [@dinhvien04](https://github.com/dinhvien04)
- Email: vien.computer.2004@gmail.com

## ğŸ“„ License

MIT License - xem file [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.

## ğŸ™ ÄÃ³ng gÃ³p

Má»i Ä‘Ã³ng gÃ³p Ä‘á»u Ä‘Æ°á»£c chÃ o Ä‘Ã³n! HÃ£y táº¡o Pull Request hoáº·c Issue náº¿u báº¡n cÃ³ Ã½ tÆ°á»Ÿng cáº£i thiá»‡n dá»± Ã¡n.

---

â­ Náº¿u báº¡n tháº¥y dá»± Ã¡n há»¯u Ã­ch, hÃ£y cho má»™t star nhÃ©!
